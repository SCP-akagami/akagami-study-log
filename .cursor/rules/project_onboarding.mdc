---
description: 
globs: 
alwaysApply: false
---
1. **ディレクトリ構造の確認と記録**
   - プロジェクト開始時は、まずdirectory_structure.mdの存在を確認すること
   - directory_structure.mdが存在しない場合は、list_dirツールを使用してプロジェクト全体の構造を詳細に分析し、新規作成すること
   - 既存のdirectory_structure.mdがある場合は内容を確認し、実際の構造と相違があれば更新すること
   - 各ディレクトリの役割と責務を実際のコード分析に基づいて明記し、実装されている設計パターンがあれば特定すること

2. **基本ドキュメントの存在確認と作成**
   - file_searchやlist_dirツールを使用して、プロジェクト内に存在するドキュメントファイルを実際に確認すること
   - README.md、technology_stack.md、directory_structure.mdなど技術ドキュメントの存在を確認すること
   - 画面関連の情報がプロジェクト内に存在する場合は、以下のドキュメントを作成すること：
     - **画面一覧.md**: 実際にコード内で確認できる画面のみを記載
     - **画面遷移図.md**: 実装されている画面遷移のみを記載
     - **業務フロー図.md**: 実装されている業務フローのみを記載
   - **推測でファイルの存在を判断しないこと**、必ず実際の確認を行うこと
   - **プロジェクト内で全く言及されていない画面については憶測で記載しないこと**

3. **既存ドキュメントの確認とプロジェクト概要把握**
   - 実際に存在する技術ドキュメント（README.md、technology_stack.md、directory_structure.md）を確認し、プロジェクト概要を把握してから作業を開始すること
   - 存在する業務関連ドキュメント（画面一覧.md、画面遷移図.md、業務フロー図.md）があれば確認し、システムの目的と主要機能を理解すること
   - ドキュメントが不十分な場合は、コードベース分析により情報を補完すること

4. **技術スタックの実際の確認**
   - package.json、requirements.txt、Gemfileなど実際の依存関係ファイルを確認すること
   - 使用されているフレームワーク、ライブラリを実際のコードから特定し、バージョン情報も含めて整理すること
   - データベース設定ファイルやマイグレーションファイルから実際に使用されているデータベースを確認すること

5. **実装済み機能の確認**
   - 既存コードベースから実際に実装されている共通処理、ユーティリティ関数、設定ファイルを特定すること
   - 新規実装時の参考となる実装パターンを実際のコードから把握すること

6. **画面・UI要素の実際の分析**
   - 実際に存在するビューファイル、テンプレートファイル、コンポーネントファイルから画面構成を分析すること
   - ルーティング設定から実装されている画面パスと画面遷移を確認すること
   - **実装されていない画面や機能については憶測で記載しないこと**

7. **データモデルの実際の分析**
   - 実際に存在するモデルファイル、スキーマファイルからデータ構造を分析すること
   - 実装されているビジネスロジックの関係性を実際のコードから理解すること

8. **実装されているセキュリティ機能の確認**
   - 認証・認可の仕組みが実装されている場合のみ、その内容を確認すること
   - 実際に実装されているセキュリティ対策、エラーハンドリングの方針を確認すること
   - **実装されていない機能については憶測で記載しないこと**

9. **テスト環境の実際の確認**
   - テストファイルが存在する場合のみ、テスト戦略とテストコードの構造を分析すること
   - 実際に設定されているテスト環境（単体テスト、結合テスト、E2Eテスト）のみを記録すること

10. **デプロイメント設定の実際の確認**
    - 実際に存在するデプロイメント関連ファイル（Dockerfile、docker-compose.yml、CI/CD設定ファイルなど）を確認すること
    - 実装されている環境設定、開発フローのみを把握すること

11. **実際のコーディング規約の分析**
    - 既存コードから実際の命名規則、コーディング規約、コメント記述方針を分析すること
    - プロジェクト固有のスタイルガイドがある場合のみ、その内容に準拠すること
    - **存在しない規約については憶測で記載しないこと**
